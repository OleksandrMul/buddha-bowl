import{c as p,u as m}from"./common.min.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))e(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&e(a)}).observe(document,{childList:!0,subtree:!0});function l(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function e(o){if(o.ep)return;o.ep=!0;const s=l(o);fetch(o.href,s)}})();let u={getErrors(t){let r=0,l=t.querySelectorAll("[required]");return l.length&&l.forEach(e=>{(e.offsetParent!==null||e.tagName==="SELECT")&&!e.disabled&&(r+=this.validateInput(e))}),r},validateInput(t){let r=0;return t.type==="email"?(t.value=t.value.replace(" ",""),this.emailTest(t)?(this.addError(t),this.removeSuccess(t),r++):(this.removeError(t),this.addSuccess(t))):t.type==="checkbox"&&!t.checked?(this.addError(t),this.removeSuccess(t),r++):t.value.trim()?(this.removeError(t),this.addSuccess(t)):(this.addError(t),this.removeSuccess(t),r++),r},addError(t){t.classList.add("--form-error"),t.parentElement.classList.add("--form-error");let r=t.parentElement.querySelector("[data-fls-form-error]");r&&t.parentElement.removeChild(r),t.dataset.flsFormErrtext&&t.parentElement.insertAdjacentHTML("beforeend",`<div data-fls-form-error>${t.dataset.flsFormErrtext}</div>`)},removeError(t){t.classList.remove("--form-error"),t.parentElement.classList.remove("--form-error"),t.parentElement.querySelector("[data-fls-form-error]")&&t.parentElement.removeChild(t.parentElement.querySelector("[data-fls-form-error]"))},addSuccess(t){t.classList.add("--form-success"),t.parentElement.classList.add("--form-success")},removeSuccess(t){t.classList.remove("--form-success"),t.parentElement.classList.remove("--form-success")},removeFocus(t){t.classList.remove("--form-focus"),t.parentElement.classList.remove("--form-focus")},formClean(t){t.reset(),setTimeout(()=>{let r=t.querySelectorAll("input,textarea");for(let e=0;e<r.length;e++){const o=r[e];u.removeFocus(o),u.removeSuccess(o),u.removeError(o)}let l=t.querySelectorAll('input[type="checkbox"]');if(l.length&&l.forEach(e=>{e.checked=!1}),window.flsSelect){let e=t.querySelectorAll("select[data-fls-select]");e.length&&e.forEach(o=>{window.flsSelect.selectBuild(o)})}},0)},emailTest(t){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(t.value)}};function E(){function t(){const l=document.forms;if(l.length)for(const s of l)s.hasAttribute("data-fls-form-novalidate")||s.setAttribute("novalidate",!0),s.addEventListener("submit",function(a){const c=a.target;e(c,a)}),s.addEventListener("reset",function(a){const c=a.target;u.formClean(c)});async function e(s,a){if(u.getErrors(s)===0)if(s.dataset.flsForm==="ajax"){a.preventDefault();const n=s.getAttribute("action")?s.getAttribute("action").trim():"#",h=s.getAttribute("method")?s.getAttribute("method").trim():"GET",f=new FormData(s);s.classList.add("--sending");const i=await fetch(n,{method:h,body:f});if(i.ok){let v=await i.json();s.classList.remove("--sending"),o(s,v)}else s.classList.remove("--sending")}else s.dataset.flsForm==="dev"&&(a.preventDefault(),o(s));else if(a.preventDefault(),s.querySelector(".--form-error")&&s.hasAttribute("data-fls-form-gotoerr")){const n=s.dataset.flsFormGotoerr?s.dataset.flsFormGotoerr:".--form-error";p(n)}}function o(s,a=""){document.dispatchEvent(new CustomEvent("formSent",{detail:{form:s}})),setTimeout(()=>{if(window.flsPopup){const c=s.dataset.flsFormPopup;c&&window.flsPopup.open(c)}},0),u.formClean(s)}}function r(){document.body.addEventListener("focusin",function(l){const e=l.target;(e.tagName==="INPUT"||e.tagName==="TEXTAREA")&&(e.hasAttribute("data-fls-form-nofocus")||(e.classList.add("--form-focus"),e.parentElement.classList.add("--form-focus")),e.hasAttribute("data-fls-form-validatenow")&&u.removeError(e))}),document.body.addEventListener("focusout",function(l){const e=l.target;(e.tagName==="INPUT"||e.tagName==="TEXTAREA")&&(e.hasAttribute("data-fls-form-nofocus")||(e.classList.remove("--form-focus"),e.parentElement.classList.remove("--form-focus")),e.hasAttribute("data-fls-form-validatenow")&&u.validateInput(e))})}t(),r()}document.querySelector("[data-fls-form]")&&window.addEventListener("load",E);class w{constructor(r){let l={logging:!0};this.config=Object.assign(l,r),this.observer,document.documentElement.hasAttribute("data-fls-watch")||this.scrollWatcherRun()}scrollWatcherUpdate(){this.scrollWatcherRun()}scrollWatcherRun(){document.documentElement.setAttribute("data-fls-watch",""),this.scrollWatcherConstructor(document.querySelectorAll("[data-fls-watcher]"))}scrollWatcherConstructor(r){r.length&&m(Array.from(r).map(function(e){if(e.dataset.flsWatcher==="navigator"&&!e.dataset.flsWatcherThreshold){let o;e.clientHeight>2?(o=window.innerHeight/2/(e.clientHeight-1),o>1&&(o=1)):o=1,e.setAttribute("data-fls-watcher-threshold",o.toFixed(2))}return`${e.dataset.flsWatcherRoot?e.dataset.flsWatcherRoot:null}|${e.dataset.flsWatcherMargin?e.dataset.flsWatcherMargin:"0px"}|${e.dataset.flsWatcherThreshold?e.dataset.flsWatcherThreshold:0}`})).forEach(e=>{let o=e.split("|"),s={root:o[0],margin:o[1],threshold:o[2]},a=Array.from(r).filter(function(n){let h=n.dataset.flsWatcherRoot?n.dataset.flsWatcherRoot:null,f=n.dataset.flsWatcherMargin?n.dataset.flsWatcherMargin:"0px",i=n.dataset.flsWatcherThreshold?n.dataset.flsWatcherThreshold:0;if(String(h)===s.root&&String(f)===s.margin&&String(i)===s.threshold)return n}),c=this.getScrollWatcherConfig(s);this.scrollWatcherInit(a,c)})}getScrollWatcherConfig(r){let l={};if(document.querySelector(r.root)?l.root=document.querySelector(r.root):r.root,l.rootMargin=r.margin,!(r.margin.indexOf("px")<0&&r.margin.indexOf("%")<0)){if(r.threshold==="prx"){r.threshold=[];for(let e=0;e<=1;e+=.005)r.threshold.push(e)}else r.threshold=r.threshold.split(",");return l.threshold=r.threshold,l}}scrollWatcherCreate(r){this.observer=new IntersectionObserver((l,e)=>{l.forEach(o=>{this.scrollWatcherCallback(o,e)})},r)}scrollWatcherInit(r,l){this.scrollWatcherCreate(l),r.forEach(e=>this.observer.observe(e))}scrollWatcherIntersecting(r,l){r.isIntersecting?l.classList.contains("--watcher-view")||l.classList.add("--watcher-view"):l.classList.contains("--watcher-view")&&l.classList.remove("--watcher-view")}scrollWatcherOff(r,l){l.unobserve(r)}scrollWatcherCallback(r,l){const e=r.target;this.scrollWatcherIntersecting(r,e),e.hasAttribute("data-fls-watcher-once")&&r.isIntersecting&&this.scrollWatcherOff(e,l),document.dispatchEvent(new CustomEvent("watcherCallback",{detail:{entry:r}}))}}document.querySelector("[data-fls-watcher]")&&window.addEventListener("load",()=>new w({}));function b(){const t=document.querySelectorAll("img"),r=document.documentElement,l=localStorage.getItem(location.href)&&document.querySelector('[data-fls-preloader="true"]');if(t.length&&!l){let o=function(d){c&&(c.innerText=`${d}%`),n&&(n.style.width=`${d}%`)},s=function(){h++,i=Math.round(100/t.length*h);const d=setInterval(()=>{f>=i?clearInterval(d):o(++f),f>=100&&e()},10)};document.body.insertAdjacentHTML("beforeend",`
			<div class="fls-preloader">
				<div class="fls-preloader__body">
					<div class="fls-preloader__counter">0%</div>
				</div>
			</div>`),document.querySelector(".fls-preloader");const c=document.querySelector(".fls-preloader__counter"),n=document.querySelector(".fls-preloader__line span");let h=0,f=0,i=0;r.setAttribute("data-fls-preloader-loading",""),r.setAttribute("data-fls-scrolllock",""),t.forEach(d=>{const g=document.createElement("img");g&&(g.onload=s,g.onerror=s,d.dataset.src?g.src=d.dataset.src:g.src=d.src)}),o(i);const v=()=>localStorage.setItem(location.href,"preloaded");document.querySelector('[data-fls-preloader="true"]')&&v()}else e();function e(){r.setAttribute("data-fls-preloader-loaded",""),r.removeAttribute("data-fls-preloader-loading"),r.removeAttribute("data-fls-scrolllock")}}document.addEventListener("DOMContentLoaded",b);
